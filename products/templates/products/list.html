{% extends "base.html" %}
{% load for_loop_extras %}



{% block content %}
{% if request.session.language == 'RU' %}
<div class='col-12 text-right p-0'>
		<div class="btn-group dropleft customDropRight">
			<button class="btn" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fas fa-sort"></i></button>
			<div id="drop-cat" class="dropdown-menu customDropRightMenu" aria-labelledby="dropdownMenuButton">
				<form class='form text-center' method='POST' action="">{% csrf_token %}
					{% for item in object_list %}
						<input type="hidden" name="qs_for_sort_slug" value='{{ item.slug }}'>
					{% endfor %}
					<input type="hidden" name="qs_for_sort" value='{{ object_list }}'>
					<button id="sort" type='submit' name="relevant" value='-timestamp' class='btn'><small>Сначала новое</small></button><br/>
					<button id="sort" type='submit' name="high_low" value='-price' class='btn'><small>По убыванию</small></button><br/>
					<input type="hidden"  name="qs_for_sort" value='{{ object_list }}'>
					<button id="sort" type='submit' name="low_high" value='price'class='btn'><small>По возрастанию</small></button>
				</form>
			</div>
			<button class='btn btn-filter' id='trigger'><i class="fas fa-sliders-h"></i></button>
		</div>
</div>

<div class="container-fluid ajax-search">

<div class='row'>
	<div class='col-7 col-md-3 custom-box' id='slider' style="background-color: rgb(255,255,255); overflow: scroll; ">
		{% include 'categories/snippets/filter-box.html' with instance=obj %}
	</div>
		{% if filter_gender or filter_category or filter_size %}
			<div class='col-12 text-center'>
				Результаты для:
			{% if filter_gender %}
				{% for gender in filter_gender %}
						<b>{{ gender|to_rus }}</b>
				{% endfor %}
			{% endif %}
			{% if filter_category %}
				{% for category in filter_category %}
						<b>{{ category|to_rus }}</b>
				{% endfor %}
			{% endif %}
			{% if filter_size %}
				{% for size in filter_size %}
					<b>{{ size }}</b>
				{% endfor %}
			{% endif %}
			</div>
		{% endif %}
</div>

{% else %}
<div class='col-12 text-right p-0'>
		<div class="btn-group dropleft customDropRight">
			<button class="btn" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fas fa-sort"></i></button>
			<div id="drop-cat" class="dropdown-menu customDropRightMenu" aria-labelledby="dropdownMenuButton">
				<form class='form text-center' method='POST' action="">{% csrf_token %}
					{% for item in object_list %}
						<input type="hidden" name="qs_for_sort_slug" value='{{ item.slug }}'>
					{% endfor %}
					<input type="hidden" name="qs_for_sort" value='{{ object_list }}'>
					<button id="sort" type='submit' name="relevant" value='-timestamp' class='btn'><small>New</small></button><br/>
					<button id="sort" type='submit' name="high_low" value='-price' class='btn'><small>High price</small></button><br/>
					<input type="hidden"  name="qs_for_sort" value='{{ object_list }}'>
					<button id="sort" type='submit' name="low_high" value='price'class='btn'><small>Low price</small></button>
				</form>
			</div>
			<button class='btn btn-filter' id='trigger'><i class="fas fa-sliders-h"></i></button>
		</div>
</div>

<div class="container-fluid ajax-search">

<div class='row'>
	<div class='col-7 col-md-3 custom-box' id='slider' style="background-color: rgb(255,255,255); overflow: scroll; ">
		{% include 'categories/snippets/filter-box.html' with instance=obj %}
	</div>
		{% if filter_gender or filter_category or filter_size %}
			<div class='col-12 text-center'>
				Results for:
			{% if filter_gender %}
				{% for gender in filter_gender %}
						<b>{{ gender }}</b>
				{% endfor %}
			{% endif %}
			{% if filter_category %}
				{% for category in filter_category %}
						<b>{{ category }}</b>
				{% endfor %}
			{% endif %}
			{% if filter_size %}
				{% for size in filter_size %}
					<b>{{ size }}</b>
				{% endfor %}
			{% endif %}
			</div>
		{% endif %}
</div>

{% endif %}

	<div class='row p-0 mx-auto'>
	{% for obj in object_list %}
	<div class='col-xs-12 col-md-3 p-0' id="list-col">
		{% include 'products/snippets/card.html' with instance=obj %}
	</div>
		{% if forloop.counter|divisibleby:4 %}
	</div>
	<div class='row p-0 mx-auto'>
		{% else %}

		{% endif %}
	{% endfor %}
	</div>


</div>
	
{% endblock %}


